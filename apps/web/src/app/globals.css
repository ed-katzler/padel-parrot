@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Colors - RGB values for use with rgb() and rgba() */
  --color-bg: 250 250 249;           /* stone-50 */
  --color-surface: 255 255 255;      /* white */
  --color-border: 214 211 209;       /* stone-300 */
  --color-border-light: 231 229 228; /* stone-200 */
  --color-text: 28 25 23;            /* stone-900 */
  --color-text-secondary: 68 64 60;  /* stone-700 */
  --color-text-muted: 120 113 108;   /* stone-500 */
  --color-text-subtle: 168 162 158;  /* stone-400 */
  
  /* Interactive states */
  --color-interactive: 28 25 23;      /* stone-900 */
  --color-interactive-hover: 41 37 36; /* stone-800 */
  --color-interactive-muted: 245 245 244; /* stone-100 */
  
  /* Status colors */
  --color-success-bg: 232 245 233;
  --color-success-text: 46 125 50;
  --color-error-bg: 255 235 238;
  --color-error-text: 198 40 40;
  
  /* Spacing scale */
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-5: 1.25rem;  /* 20px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
  --space-10: 2.5rem;  /* 40px */
  
  /* Border radius */
  --radius-sm: 0.375rem;  /* 6px */
  --radius-md: 0.5rem;    /* 8px */
  --radius-lg: 0.75rem;   /* 12px */
  --radius-xl: 1rem;      /* 16px */
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  
  /* Transitions */
  --transition-fast: 150ms;
  --transition-base: 200ms;
}

/* Explicit light mode (same as :root defaults, but overrides system preference) */
[data-theme="light"] {
  --color-bg: 250 250 249;
  --color-surface: 255 255 255;
  --color-border: 214 211 209;
  --color-border-light: 231 229 228;
  --color-text: 28 25 23;
  --color-text-secondary: 68 64 60;
  --color-text-muted: 120 113 108;
  --color-text-subtle: 168 162 158;
  --color-interactive: 28 25 23;
  --color-interactive-hover: 41 37 36;
  --color-interactive-muted: 245 245 244;
  --color-success-bg: 232 245 233;
  --color-success-text: 46 125 50;
  --color-error-bg: 255 235 238;
  --color-error-text: 198 40 40;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

/* Dark mode colors */
[data-theme="dark"] {
  --color-bg: 23 23 23;              /* neutral-900 */
  --color-surface: 38 38 38;         /* neutral-800 */
  --color-border: 82 82 82;          /* neutral-600 */
  --color-border-light: 64 64 64;    /* neutral-700 */
  --color-text: 250 250 250;         /* neutral-50 */
  --color-text-secondary: 229 229 229; /* neutral-200 */
  --color-text-muted: 163 163 163;   /* neutral-400 */
  --color-text-subtle: 115 115 115;  /* neutral-500 */
  
  /* Interactive states - inverted for dark mode */
  --color-interactive: 250 250 250;   /* neutral-50 */
  --color-interactive-hover: 229 229 229; /* neutral-200 */
  --color-interactive-muted: 64 64 64; /* neutral-700 */
  
  /* Status colors - darker backgrounds, same text for contrast */
  --color-success-bg: 20 83 45;      /* green-900 */
  --color-success-text: 134 239 172; /* green-300 */
  --color-error-bg: 127 29 29;       /* red-900 */
  --color-error-text: 252 165 165;   /* red-300 */
  
  /* Shadows - more subtle in dark mode */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
}

/* System preference fallback when no explicit theme is set */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --color-bg: 23 23 23;
    --color-surface: 38 38 38;
    --color-border: 82 82 82;
    --color-border-light: 64 64 64;
    --color-text: 250 250 250;
    --color-text-secondary: 229 229 229;
    --color-text-muted: 163 163 163;
    --color-text-subtle: 115 115 115;
    --color-interactive: 250 250 250;
    --color-interactive-hover: 229 229 229;
    --color-interactive-muted: 64 64 64;
    --color-success-bg: 20 83 45;
    --color-success-text: 134 239 172;
    --color-error-bg: 127 29 29;
    --color-error-text: 252 165 165;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  }
}

@layer base {
  html {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  body {
    background-color: rgb(var(--color-bg));
    color: rgb(var(--color-text));
  }
}

@layer components {
  /* Buttons */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-md);
    padding: var(--space-2) var(--space-4);
    font-size: 0.875rem;
    font-weight: 500;
    transition: all var(--transition-fast) ease;
  }
  
  .btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgb(var(--color-bg)), 0 0 0 4px rgb(var(--color-border));
  }
  
  .btn:disabled {
    opacity: 0.5;
    pointer-events: none;
  }
  
  .btn-primary {
    background-color: rgb(var(--color-interactive));
    color: rgb(var(--color-surface));
  }
  
  .btn-primary:hover {
    background-color: rgb(var(--color-interactive-hover));
  }
  
  .btn-secondary {
    background-color: rgb(var(--color-interactive-muted));
    color: rgb(var(--color-text-secondary));
    border: 1px solid rgb(var(--color-border-light));
  }
  
  .btn-secondary:hover {
    background-color: rgb(var(--color-border-light));
  }
  
  .btn-danger {
    background-color: rgb(var(--color-error-bg));
    color: rgb(var(--color-error-text));
    border: 1px solid rgb(var(--color-error-text) / 0.3);
  }
  
  .btn-danger:hover {
    background-color: rgb(var(--color-error-text) / 0.2);
  }
  
  /* Inputs */
  .input {
    display: block;
    width: 100%;
    border-radius: var(--radius-md);
    border: 1px solid rgb(var(--color-border));
    padding: var(--space-2) var(--space-3);
    font-size: 1rem;
    color: rgb(var(--color-text));
    background-color: rgb(var(--color-surface));
    transition: border-color var(--transition-fast) ease, box-shadow var(--transition-fast) ease;
  }
  
  .input::placeholder {
    color: rgb(var(--color-text-subtle));
  }
  
  .input:focus {
    outline: none;
    border-color: rgb(var(--color-text-muted));
    box-shadow: 0 0 0 1px rgb(var(--color-text-muted));
  }
  
  /* Cards */
  .card {
    background-color: rgb(var(--color-surface));
    border-radius: var(--radius-lg);
    border: 1px solid rgb(var(--color-border-light));
    padding: var(--space-6);
    transition: border-color var(--transition-fast) ease, box-shadow var(--transition-fast) ease;
  }
  
  .card-hover:hover {
    border-color: rgb(var(--color-border));
    box-shadow: var(--shadow-sm);
  }
  
  /* Container */
  .container-app {
    margin-left: auto;
    margin-right: auto;
    max-width: 28rem;
    padding-left: var(--space-4);
    padding-right: var(--space-4);
  }
  
  @media (min-width: 640px) {
    .container-app {
      max-width: 32rem;
      padding-left: var(--space-6);
      padding-right: var(--space-6);
    }
  }
  
  /* Badges */
  .badge {
    display: inline-flex;
    align-items: center;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: 500;
  }
  
  .badge-available {
    background-color: rgb(var(--color-success-bg));
    color: rgb(var(--color-success-text));
  }
  
  .badge-full {
    background-color: rgb(var(--color-error-bg));
    color: rgb(var(--color-error-text));
  }
  
  .badge-neutral {
    background-color: rgb(var(--color-interactive-muted));
    color: rgb(var(--color-text-muted));
  }
  
  /* Segmented Control */
  .segmented-control {
    display: flex;
    background-color: rgb(var(--color-interactive-muted));
    border-radius: var(--radius-md);
    padding: var(--space-1);
    gap: var(--space-1);
  }
  
  .segmented-control button {
    flex: 1;
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-sm);
    font-size: 0.875rem;
    font-weight: 500;
    color: rgb(var(--color-text-muted));
    transition: all var(--transition-fast) ease;
  }
  
  .segmented-control button:hover {
    color: rgb(var(--color-text));
  }
  
  .segmented-control button.active {
    background-color: rgb(var(--color-surface));
    color: rgb(var(--color-text));
    box-shadow: var(--shadow-sm);
  }
  
  /* Option Buttons (for player count) */
  .option-buttons {
    display: flex;
    gap: var(--space-2);
  }
  
  .option-btn {
    flex: 1;
    padding: var(--space-3) var(--space-4);
    border-radius: var(--radius-md);
    border: 1px solid rgb(var(--color-border-light));
    background-color: rgb(var(--color-surface));
    font-size: 0.875rem;
    font-weight: 500;
    color: rgb(var(--color-text-muted));
    transition: all var(--transition-fast) ease;
    text-align: center;
  }
  
  .option-btn:hover {
    border-color: rgb(var(--color-border));
    color: rgb(var(--color-text));
  }
  
  .option-btn.active {
    border-color: rgb(var(--color-text));
    color: rgb(var(--color-text));
    background-color: rgb(var(--color-interactive-muted));
  }
  
  /* Toggle Switch */
  .toggle-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4);
    background-color: rgb(var(--color-interactive-muted) / 0.5);
    border-radius: var(--radius-md);
  }
  
  .toggle-switch {
    position: relative;
    width: 2.75rem;
    height: 1.5rem;
    background-color: rgb(var(--color-border));
    border-radius: 9999px;
    transition: background-color var(--transition-fast) ease;
    cursor: pointer;
  }
  
  .toggle-switch::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 1.25rem;
    height: 1.25rem;
    background-color: rgb(var(--color-surface));
    border-radius: 9999px;
    transition: transform var(--transition-fast) ease;
    box-shadow: var(--shadow-sm);
  }
  
  .toggle-switch.active {
    background-color: rgb(var(--color-interactive));
  }
  
  .toggle-switch.active::after {
    transform: translateX(1.25rem);
  }
  
  /* Form field spacing */
  .form-field {
    margin-bottom: var(--space-4);
  }
  
  .form-field:last-child {
    margin-bottom: 0;
  }
  
  .form-label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: rgb(var(--color-text-secondary));
    margin-bottom: var(--space-2);
  }
  
  .form-hint {
    font-size: 0.75rem;
    color: rgb(var(--color-text-subtle));
    margin-top: var(--space-1);
  }
  
  .form-error {
    font-size: 0.75rem;
    color: rgb(var(--color-error-text));
    margin-top: var(--space-1);
  }
  
  /* Section header */
  .section-header {
    font-size: 1.125rem;
    font-weight: 600;
    color: rgb(var(--color-text));
    margin-bottom: var(--space-5);
  }
}

@layer utilities {
  .animate-fade-in {
    animation: fadeIn var(--transition-base) ease-out;
  }
  
  .animate-scale-in {
    animation: scaleIn var(--transition-fast) ease-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes scaleIn {
    from { transform: scale(0.98); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
}
